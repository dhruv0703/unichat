{"version":3,"sources":["components/Firebase.js","contexts/AuthContext.js","components/Chats.js","components/Login.js","components/App.js","index.js"],"names":["auth","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","AuthContext","React","createContext","AuthProvider","_ref","children","_useState","useState","_useState2","_slicedToArray","loading","setLoading","_useState3","_useState4","user","setUser","history","useHistory","useEffect","onAuthStateChanged","push","value","createElement","Provider","Chats","useContext","handleLogout","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_context","prev","next","signOut","stop","apply","arguments","getFile","_ref2","_callee2","url","response","data","_context2","fetch","sent","blob","abrupt","File","type","_x","axios","get","headers","email","uid","then","catch","formdata","FormData","append","photoURL","avatar","name","post","error","console","log","className","onClick","ChatEngine","height","projectID","userName","userSecret","Login","id","signInWithRedirect","GoogleAuthProvider","GoogleOutlined","FacebookAuthProvider","FacebookOutlined","App","Router","Switch","Route","path","component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.8efd8934.chunk.js","sourcesContent":["import firebase from \"firebase/app\";\r\nimport \"firebase/auth\";\r\nexport const auth = firebase.initializeApp({\r\n  apiKey: \"AIzaSyDpMH92Ji63NLWYWVVIbLPFcyQO0fDneaA\",\r\n  authDomain: \"unichat-3f7a4.firebaseapp.com\",\r\n  projectId: \"unichat-3f7a4\",\r\n  storageBucket: \"unichat-3f7a4.appspot.com\",\r\n  messagingSenderId: \"464929062908\",\r\n  appId: \"1:464929062908:web:ec81d7289a29ff62583c79\"\r\n}).auth();","import React , { useContext , useState , useEffect} from 'react';\r\nimport { useHistory } from 'react-router-dom/cjs/react-router-dom.min';\r\nimport { auth } from '../components/Firebase';\r\nconst AuthContext = React.createContext();\r\nexport const useAuth = () => useContext(AuthContext);\r\nexport const AuthProvider = ({children}) =>{\r\n    const [loading , setLoading] = useState(true);\r\n    const [user , setUser] = useState(null);\r\n    const history = useHistory();\r\n    useEffect(() =>{\r\n        auth.onAuthStateChanged((user) =>{\r\n            setUser(user);\r\n            setLoading(false);\r\n         if(user)   history.push('/chats');\r\n        }\r\n        \r\n        \r\n        )\r\n\r\n    },[user, history]);\r\n    const value = {user};\r\n    return (\r\n        <AuthContext.Provider value ={value}>\r\n            {!loading && children}\r\n        </AuthContext.Provider>\r\n    );\r\n    \r\n}\r\nexport default AuthProvider;\r\n","\r\nimport React,{useRef, useState, useEffect} from 'react';\r\nimport { useHistory } from 'react-router-dom/cjs/react-router-dom.min';\r\nimport { ChatEngine } from 'react-chat-engine';\r\nimport {auth} from './Firebase';\r\nimport { useAuth } from '../contexts/AuthContext';\r\nimport axios from 'axios';\r\nconst Chats = () =>{\r\n    const history = useHistory();\r\n    const {user} = useAuth();\r\n    const [loading , setLoading]= useState(true);\r\n   \r\n    const handleLogout = async () =>{\r\n    await auth.signOut();\r\n    history.push('/');\r\n\r\n    }\r\n    const getFile = async (url) =>{\r\n      const response = await fetch(url);\r\n      const data = await response.blob();\r\n      return new File([data] , \"userPhoto.jpg\" ,{type: 'image/jpeg'} )\r\n    }\r\n    useEffect(()=>{\r\n       if(!user){\r\n        history.push('/');\r\n        return;\r\n\r\n       }\r\n       axios.get('https://api.chatengine.io/users/me',{\r\n        headers:{\r\n          \"project-id\" : \"501e4a11-65a1-4c54-b9d4-070b868fb7ef\",\r\n          \"user-name\": user.email,\r\n          \"user-secret\" : user.uid,\r\n        }\r\n\r\n       })\r\n      .then(()=>{\r\n        setLoading(false);\r\n      }) \r\n      .catch(() =>{\r\n        let formdata = new FormData();\r\n        formdata.append('email' , user.email);\r\n        formdata.append('username' , user.email);\r\n        formdata.append('secret' , user.uid);\r\n        getFile(user.photoURL)\r\n        .then((avatar) =>{\r\n          formdata.append('avatar', avatar , avatar.name );\r\n          axios.post('https://api.chatengine.io/users',\r\n          formdata,\r\n          {headers:{ \"private-key\": \"8147fe02-b4e9-4db8-a82f-7b30c73fd668\"}}\r\n          )\r\n          .then(()=> setLoading(false))\r\n          .catch((error) => console.log(error))\r\n        })\r\n      })\r\n    }, [user,history]);\r\n    if(!user || loading) return 'Loading ...';\r\n\r\n    return (\r\n        <div className=\"chats-page\">\r\n            <div className=\"nav-bar\">\r\n              <div className=\"logo-tab\" >\r\n               Unichat \r\n              </div> \r\n              <div onClick={handleLogout} className=\"logout-tab\">\r\n                Logout\r\n              </div>\r\n            </div>\r\n            <ChatEngine\r\n                 height=\"calc(100vh -66px)\"\r\n                 projectID=\"501e4a11-65a1-4c54-b9d4-070b868fb7ef\"\r\n\r\n                 userName={user.email}\r\n                 userSecret={user.uid}\r\n\r\n\r\n            />\r\n        </div>\r\n    )\r\n}\r\nexport default Chats;","import React from \"react\";\r\nimport { GoogleOutlined, FacebookOutlined } from \"@ant-design/icons\";\r\nimport \"firebase/app\";\r\nimport {auth} from \"./Firebase.js\"\r\nimport firebase from \"firebase/app\";\r\n\r\nfunction Login() {\r\n    return (\r\n        <div id = \"login-page\">\r\n            <div id = \"login-card\">\r\n                <h2> Welcome to Unichat!</h2>\r\n                <div className=\"login-button google\"\r\n                onClick={() => auth.signInWithRedirect(new firebase.auth.GoogleAuthProvider())}\r\n                >\r\n                    <GoogleOutlined/> Sign In with Google\r\n                </div>\r\n                <br/> <br/>\r\n                <div className=\"login-button facebook\"\r\n                onClick={() => auth.signInWithRedirect(new firebase.auth.FacebookAuthProvider())}\r\n                >\r\n                    <FacebookOutlined /> Sign In with Facebook \r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n} \r\n\r\nexport default Login;","import React from \"react\"\n\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\"\n\nimport { AuthProvider } from \"../contexts/AuthContext\"\n\nimport Chats from \"./Chats\"\nimport Login from \"./Login.js\"\n\nfunction App() {\n  return (\n      <Router>\n        <AuthProvider>\n          <Switch>\n            <Route path=\"/chats\" component={Chats} />\n            <Route path=\"/\" component={Login} />\n          </Switch>\n        </AuthProvider>\n      </Router>\n  )\n}\n\nexport default App\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}